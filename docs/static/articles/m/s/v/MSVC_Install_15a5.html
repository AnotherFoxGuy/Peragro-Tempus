<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/favicon.ico"/>
    <title>MSVC Install - Peragro Tempus Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../raw/gen.js"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../raw/MediaWiki%7ECommon.css";
@import "../../../../raw/MediaWiki%7EMonobook.css";
@import "../../../../raw/gen.css";
/*]]>*/</style>          </head>
  <body
    class="page-MSVC_Install">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">MSVC Install</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Peragro Tempus Wiki</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1"><a href="#Directory_Structure"><span class="tocnumber">2</span> <span class="toctext">Directory Structure</span></a></li>
<li class="toclevel-1"><a href="#Setting_the_Environmental_Variables"><span class="tocnumber">3</span> <span class="toctext">Setting the Environmental Variables</span></a></li>
<li class="toclevel-1"><a href="#Download_and_Install_Microsoft_Visual_Studio_C.2B.2B_2008"><span class="tocnumber">4</span> <span class="toctext">Download and Install Microsoft Visual Studio C++ 2008</span></a></li>
<li class="toclevel-1"><a href="#Download_and_Install_the_Microsoft_Windows_SDK"><span class="tocnumber">5</span> <span class="toctext">Download and Install the Microsoft Windows SDK</span></a></li>
<li class="toclevel-1"><a href="#Download_and_install_TortoiseSVN"><span class="tocnumber">6</span> <span class="toctext">Download and install TortoiseSVN</span></a></li>
<li class="toclevel-1"><a href="#Download_CS"><span class="tocnumber">7</span> <span class="toctext">Download CS</span></a></li>
<li class="toclevel-1"><a href="#Download_CEL"><span class="tocnumber">8</span> <span class="toctext">Download CEL</span></a></li>
<li class="toclevel-1"><a href="#Download_Peragro"><span class="tocnumber">9</span> <span class="toctext">Download Peragro</span></a></li>
<li class="toclevel-1"><a href="#Download_Boost"><span class="tocnumber">10</span> <span class="toctext">Download Boost</span></a></li>
<li class="toclevel-1"><a href="#Download_and_install_cswinlibs_via_binary"><span class="tocnumber">11</span> <span class="toctext">Download and install cswinlibs via binary</span></a></li>
<li class="toclevel-1"><a href="#Build_Boost"><span class="tocnumber">12</span> <span class="toctext">Build Boost</span></a></li>
<li class="toclevel-1"><a href="#Setup_the_MSVC_settings"><span class="tocnumber">13</span> <span class="toctext">Setup the MSVC settings</span></a></li>
<li class="toclevel-1"><a href="#Build_CS"><span class="tocnumber">14</span> <span class="toctext">Build CS</span></a></li>
<li class="toclevel-1"><a href="#Build_CEL"><span class="tocnumber">15</span> <span class="toctext">Build CEL</span></a></li>
<li class="toclevel-1"><a href="#Build_Peragro"><span class="tocnumber">16</span> <span class="toctext">Build Peragro</span></a></li>
<li class="toclevel-1"><a href="#Copy_the_DLLs"><span class="tocnumber">17</span> <span class="toctext">Copy the DLLs</span></a></li>
<li class="toclevel-1"><a href="#Little_problem_with_msvcgen"><span class="tocnumber">18</span> <span class="toctext">Little problem with msvcgen</span></a></li>
<li class="toclevel-1"><a href="#Appendix_A:_Running_a_Local_Server_.28Optional.29"><span class="tocnumber">19</span> <span class="toctext">Appendix A: Running a Local Server (Optional)</span></a></li>
<li class="toclevel-1"><a href="#Appendix_B:_Other_Information"><span class="tocnumber">20</span> <span class="toctext">Appendix B: Other Information</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Introduction"></a><h2> <span class="mw-headline"> Introduction </span></h2>
<p>If you are just wanting to play the game, please look here 
for the windows binary install: <a href="http://www.peragro.org/downloads" class="external autonumber" title="http://www.peragro.org/downloads" rel="nofollow">[1]</a><br />
If you are wanting to build Peragro Tempus from scratch so you can play with the code,
then this guide is for you!&nbsp;:)
</p>
<a name="Directory_Structure"></a><h2> <span class="mw-headline"> Directory Structure </span></h2>
<p>Create the following directory structure:
</p>
<pre>  C:\peragro
  C:\peragro\cs
  C:\peragro\cel
  C:\peragro\peragro
  C:\peragro\boost
</pre>
<a name="Setting_the_Environmental_Variables"></a><h2> <span class="mw-headline"> Setting the Environmental Variables </span></h2>
<p>In <b>Windows XP</b>:<br />
Open the Start Menu-&gt;Control Panel-&gt;System-&gt;Advanced Tab-&gt;Environment Variables Button<br />
Click the New button under User Variables and add the variables listed below.<br />
In <b>Windows Vista</b>:<br />
Open the Start Menu-&gt;Control Panel (in Classic View)-&gt;System<br />
Click Advanced System Settings Link on the left-&gt;Advanced Tab-&gt;Environment Variables Button<br />
Click the New button under User Variables and add the variables listed below.<br />
<br />
The variables and their values are:<br />
CRYSTAL = C:\peragro\cs<br />
CEL = C:\peragro\cel<br />
BOOST = C:\peragro\boost<br />
</p>
<a name="Download_and_Install_Microsoft_Visual_Studio_C.2B.2B_2008"></a><h2> <span class="mw-headline"> Download and Install Microsoft Visual Studio C++ 2008</span></h2>
<p>The free edition (Express Edition) can be downloaded from <a href="http://www.microsoft.com/express/download/" class="external free" title="http://www.microsoft.com/express/download/" rel="nofollow">http://www.microsoft.com/express/download/</a>.
</p>
<a name="Download_and_Install_the_Microsoft_Windows_SDK"></a><h2> <span class="mw-headline"> Download and Install the Microsoft Windows SDK </span></h2>
<p>The links available for the latest Microsoft Windows SDK's can be found here: <a href="http://en.wikipedia.org/wiki/Microsoft_Windows_SDK#Obtaining_the_SDK" class="external autonumber" title="http://en.wikipedia.org/wiki/Microsoft_Windows_SDK#Obtaining_the_SDK" rel="nofollow">[2]</a><br />
<br />
If you are using Windows 2000, you will need the Windows Platform SDK. Choose either the ISO download or the full download as needed:<br />
Windows® Server 2003 R2 Platform SDK ISO Download: <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=e15438ac-60be-41bd-aa14-7f1e0f19ca0d&amp;DisplayLang=en" class="external autonumber" title="http://www.microsoft.com/downloads/details.aspx?FamilyID=e15438ac-60be-41bd-aa14-7f1e0f19ca0d&amp;DisplayLang=en" rel="nofollow">[3]</a><br />
Windows® Server 2003 R2 Platform SDK Full Download: <a href="http://www.microsoft.com/downloads/info.aspx?na=22&amp;p=4&amp;SrcDisplayLang=en&amp;SrcCategoryId=&amp;SrcFamilyId=&amp;u=%2fdownloads%2fdetails.aspx%3fFamilyID%3d484269e2-3b89-47e3-8eb7-1f2be6d7123a%26DisplayLang%3den" class="external autonumber" title="http://www.microsoft.com/downloads/info.aspx?na=22&amp;p=4&amp;SrcDisplayLang=en&amp;SrcCategoryId=&amp;SrcFamilyId=&amp;u=%2fdownloads%2fdetails.aspx%3fFamilyID%3d484269e2-3b89-47e3-8eb7-1f2be6d7123a%26DisplayLang%3den" rel="nofollow">[4]</a><br />
</p>
<a name="Download_and_install_TortoiseSVN"></a><h2> <span class="mw-headline"> Download and install TortoiseSVN </span></h2>
<p>Goto <a href="http://tortoisesvn.tigris.org/" class="external free" title="http://tortoisesvn.tigris.org/" rel="nofollow">http://tortoisesvn.tigris.org/</a> then download and install the latest version of tortoisesvn.<br />
In order to checkout files, open your file explorer and right click on the directory where you want to checkout the revision to.<br />
Select "SVN Checkout..." from the menu. <br />
Make sure to specify the revision and the URL. <br />
The checkout directory should be filled in already.
</p>
<a name="Download_CS"></a><h2> <span class="mw-headline"> Download CS </span></h2>
<p>Checkout the head revision to C:\peragro\cs<br />
URL of Repository: <a href="https://crystal.svn.sourceforge.net/svnroot/crystal/CS/trunk" class="external free" title="https://crystal.svn.sourceforge.net/svnroot/crystal/CS/trunk" rel="nofollow">https://crystal.svn.sourceforge.net/svnroot/crystal/CS/trunk</a>
</p>
<a name="Download_CEL"></a><h2> <span class="mw-headline"> Download CEL </span></h2>
<p>Checkout the head revision to C:\peragro\cel<br />
URL of Repository: <a href="https://crystal.svn.sourceforge.net/svnroot/cel/cel/trunk/" class="external free" title="https://crystal.svn.sourceforge.net/svnroot/cel/cel/trunk/" rel="nofollow">https://crystal.svn.sourceforge.net/svnroot/cel/cel/trunk/</a>
</p>
<a name="Download_Peragro"></a><h2> <span class="mw-headline"> Download Peragro </span></h2>
<p>Checkout the head revision to C:\peragro\peragro<br />
URL of Repository: <a href="https://cyanox.nl/peragro/" class="external free" title="https://cyanox.nl/peragro/" rel="nofollow">https://cyanox.nl/peragro/</a>
</p>
<a name="Download_Boost"></a><h2> <span class="mw-headline"> Download Boost </span></h2>
<p>Goto <a href="http://sourceforge.net/project/showfiles.php?group_id=7586" class="external free" title="http://sourceforge.net/project/showfiles.php?group_id=7586" rel="nofollow">http://sourceforge.net/project/showfiles.php?group_id=7586</a> and download the latest version of Boost in .zip format.<br />
Unzip it into the "C:\peragro\boost" directory.<br />
For your convenience, Boost's homepage is at <a href="http://www.boost.org" class="external autonumber" title="http://www.boost.org" rel="nofollow">[5]</a>, but is not required for the guide.
</p>
<a name="Download_and_install_cswinlibs_via_binary"></a><h2> <span class="mw-headline"> Download and install cswinlibs via binary </span></h2>
<p>Goto <a href="http://www.crystalspace3d.org/downloads/cs-win32libs" class="external free" title="http://www.crystalspace3d.org/downloads/cs-win32libs" rel="nofollow">http://www.crystalspace3d.org/downloads/cs-win32libs</a> and download the latest exe file.<br />
Run the executable you downloaded and use the defaults. Make sure you have VC support selected.
</p>
<a name="Build_Boost"></a><h2> <span class="mw-headline"> Build Boost </span></h2>
<p>Download bjam  (<a href="https://sourceforge.net/project/downloading.php?group_id=7586&amp;use_mirror=surfnet&amp;filename=boost-jam-3.1.16-1-ntx86.zip&amp;97085531" class="external free" title="https://sourceforge.net/project/downloading.php?group_id=7586&amp;use_mirror=surfnet&amp;filename=boost-jam-3.1.16-1-ntx86.zip&amp;97085531" rel="nofollow">https://sourceforge.net/project/downloading.php?group_id=7586&amp;use_mirror=surfnet&amp;filename=boost-jam-3.1.16-1-ntx86.zip&amp;97085531</a>)<br />
and extract in C:\peragro\boost <br />
</p><p>Do start -&gt; run -&gt; cmd to open a command line and do 'cd C:\peragro\boost' <br />
</p><p>Then do 'bjam --toolset=msvc link=static stage'
<br /><br />
</p><p>If you're building in debug also do 'bjam --toolset=msvc link=static debug stage'
</p>
<a name="Setup_the_MSVC_settings"></a><h2> <span class="mw-headline"> Setup the MSVC settings </span></h2>
<p>Open Microsoft Visual Studio C++ 2008 here or in the next step and perform the following:<br />
In the program menu, select Tools-&gt;Options...-&gt;Projects and Solutions-&gt;VC++ Directories<br />
Select the dropdown box titled: Show Directories for: <br />
Change the dropdown box to: Include files<br />
Add the following lines:<br />
$(BOOST)<br />
$(CRYSTAL)\win32libs\include<br />
<br />
Select the dropdown box titled: Show Directories for: <br />
Change the dropdown box to: Library files<br />
Add the following lines:<br />
$(BOOST)\stage\lib<br />
$(CRYSTAL)\win32libs\lib<br />
$(CRYSTAL)\out\debug9\libs\Win32<br />
<br />
Make sure to change "debug9" above, to your version number.<br />
For MSVC 2003, use debug71.<br />
For MSVC 2005, use debug8.<br />
For MSVC 2008, use debug9.<br />
Click OK.<br />
</p>
<a name="Build_CS"></a><h2> <span class="mw-headline"> Build CS </span></h2>
<p>Open C:\peragro\cs\mk\msvc9\wkstypical.sln with Microsoft Visual Studio C++ 20008<br />
Goto Build-&gt;Build Solution
</p>
<a name="Build_CEL"></a><h2> <span class="mw-headline"> Build CEL </span></h2>
<p>Open C:\peragro\cel\msvc\9\wkscel.sln with Microsoft Visual Studio C++ 20008<br />
Goto Build-&gt;Build Solution
</p>
<a name="Build_Peragro"></a><h2> <span class="mw-headline"> Build Peragro </span></h2>
<p>Open C:\peragro\trunk\msvc\9\wksall.sln<br />
Goto Build-&gt;Build Solution
</p>
<a name="Copy_the_DLLs"></a><h2> <span class="mw-headline"> Copy the DLLs</span></h2>
<p>Copy the following files into the c:\peragro\peragro\trunk directory:<br />
C:\peragro\cs\crystalspace-1.9-vc9_d.dll<br />
C:\peragro\cs\libCEGUIBase-csvc9_d.dll<br />
C:\peragro\cs\libfreetype2-cs.dll<br />
C:\peragro\cs\libz-cs.dll<br />
C:\peragro\cel\celtool-1.9-vc9_d.dll<br />
<br />
These need to be copied because if they are not there, it will generate an error when running such as:<br />
<i>client.exe - Unable to Locate Component: This application has failed to start because libz-cs.dll was not found.<br /></i>
<br />
If there are any other errors like this, copy those dlls as well.<br />
<br />
</p>
<a name="Little_problem_with_msvcgen"></a><h2> <span class="mw-headline"> Little problem with msvcgen </span></h2>
<p>Curently msvcgen is being stubborn and doesn't automatically add the deps for our plugins.
</p><p>RMB on plgcomponent_playercontrols  -&gt; Cofiguration Properties -&gt; Linker -&gt; Input -&gt; Additional Dependencies
add:
</p>
<pre>
wsock32.lib
CEGUIBase-vc8.lib
CEGUIFalagardWRBase-vc8.lib
</pre>
<a name="Appendix_A:_Running_a_Local_Server_.28Optional.29"></a><h2> <span class="mw-headline"> Appendix A: Running a Local Server (Optional) </span></h2>
<p>Make sure to run a local server (appserver) if you are using the latest version of svn for your client (appclient).<br />
The PT server may not always be compatible with the latest version of the svn.<br />
If you want to see which svn version to use that is compatible with the PT server, too bad! That information isn't published yet.&nbsp;:)<br />
When you first run your own local server, complete the following (in this order):<br />
Register your username on the client.<br />
Click the login button.<br />
Click the setup server button.<br />
Click the Upload Server Data button.<br />
Click Done.<br />
Create your character.<br />
Select your character.<br />
Click the OK button. (This will begin the login process to the local server).<br />
<br />
</p>
<a name="Appendix_B:_Other_Information"></a><h2> <span class="mw-headline"> Appendix B: Other Information </span></h2>
<p>The database is located at c:\peragro\peragro\msvc\9\test_db.sqlite<br />
The database can be safely deleted if you need to reset all the player data (such as usernames and locations).<br />
The client log is located at c:\peragro\peragro\msvc\9\peragro.log<br />
The client cegui log is located at c:\peragro\peragro\msvc\9\CEGUI.log<br />
There is no server log currently.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 109/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><div id='catlinks' class='catlinks'><div id="mw-normal-catlinks"><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>:&#32;<span dir='ltr'><a href="../../../../articles/i/n/s/Category%7EInstallation_e986.html" title="Category:Installation">Installation</a></span></div></div></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-main"
	       class="selected"	       ><a href="../../../../articles/m/s/v/MSVC_Install_15a5.html">Page</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/m/s/v/Talk%7EMSVC_Install_00ec.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://localhost/index.php/MSVC_Install">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/clock_half.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage-description"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Peragro_Tempus_Wiki%7ECommunity_Portal_9ca7.html">Community portal</a></li>
	     	      <li id="n-currentevents"><a href="../../../../articles/c/u/r/Peragro_Tempus_Wiki%7ECurrent_events_57bd.html">Current events</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-SEARCH'>
	  <h5>SEARCH</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-TOOLBOX'>
	  <h5>TOOLBOX</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div class='portlet' id='p-LANGUAGES'>
	  <h5>LANGUAGES</h5>
	  <div class='pBody'>
	    <ul>
	    	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>		<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 19:45, 11 January 2009 by Rolenun Derog. Based on work by <a href="../../../../articles/c/y/a/User%7ECyaNox_4c16.html" title="User:CyaNox">Mark Sanders</a>, <a href="../../../../articles/s/u/e/User%7ESueastside_0e95.html" title="User:Sueastside">Jelle Hellemans</a> and Dan.</li>	  	  <li id="f-about"><a href="../../../../articles/a/b/o/Peragro_Tempus_Wiki%7EAbout_5c7d.html" title="Peragro Tempus Wiki:About">About Peragro Tempus Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Peragro_Tempus_Wiki%7EGeneral_disclaimer_934d.html" title="Peragro Tempus Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
