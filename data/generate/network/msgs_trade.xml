<message-implementation>
	<!--
	Buy/Sell
	- C -> S: In dialog
	- S -> C: TradeOffersListNpc
	- C -> S: TradeOrderListNpc
	- S -> C: TradeConfirmResponse
	-->

	<!--
	Exchange (PVP Trade) (Msg via Server)
	- C1 -> C1: ExchangeRequest
	- C2 -> C1: ExchangeResponse
	- Cx -> Cy: ExchangeOffersList // both send offers. 
	- Cx -> Cy: TradeOfferAccept   // both send accept.
	// if another offer is sent, all accepts are reset.
	// if both accepted
	- Cn -> S: TradeConfirmRequest
	// if both confirmed
	- S -> Cn: TradeConfirmResponse
	-->
        <message type="Trade" name="ExchangeRequest">
          <uint32>EntityId</uint32>
        </message>

        <message type="Trade" name="ExchangeResponse">
          <string>Error</string>
          <!-- Null if success, else contains reason -->
        </message>

        <message type="Trade" name="TradeOffersListNpc">
          <uint8>IsBuy</uint8>
          <list name="Offers">
            <uint32>ItemId</uint32>
            <uint32>Variation</uint32>
            <uint32>Price</uint32>
            <string>Name</string>
            <string>IconName</string>
          </list>
        </message>

        <message type="Trade" name="ExchangeOffersList">
		<list name="Offers">
			<uint32>ItemId</uint32>
			<uint32>Variation</uint32>
			<uint32>Amount</uint32>
			<string>Name</string>
			<string>IconName</string>
			<uint8>SlotId</uint8>
		</list>
	</message>

	<message type="Trade" name="TradeOrderListNpc">
		<uint8>IsBuy</uint8>
		<list name="Orders">
			<uint32>ItemId</uint32>
			<uint32>Variation</uint32>
		</list>
	</message>

	<message type="Trade" name="TradeCancel">
	</message>

	<message type="Trade" name="TradeOfferAccept">
	</message>

	<message type="Trade" name="TradeConfirmRequest">
	</message>

	<message type="Trade" name="TradeConfirmResponse">
		<string>Error</string> <!-- Null if success, else contains reason -->
	</message>
</message-implementation>
