SubDir TOP src client ;

SubInclude TOP src client reporter ;
SubInclude TOP src client network ;
SubInclude TOP src client gui ;
SubInclude TOP src client entity ;
SubInclude TOP src client combat ;
SubInclude TOP src client data ;
SubInclude TOP src client pointer ;
SubInclude TOP src client event ;
SubInclude TOP src client trade ;
SubInclude TOP src client chat ;
SubInclude TOP src client input ;
SubInclude TOP src client serversetup ;
SubInclude TOP src client world ;
SubInclude TOP src client state ;
SubInclude TOP src client environment ;
SubInclude TOP src client effect ;

Description client : "Client" ;
Application client :
[ Wildcard *.h *.cpp ]
[ Wildcard [ ConcatDirs pointer ] : *.h *.cpp ] ;
ExternalLibs client : CEGUI CRYSTAL CEL BOOST.FILESYSTEM ;
LinkWith client : client-reporter client-network client-gui client-entitymanager client-eventmanager client-inputmanager client-combatmanager client-data client-trademanager client-chatmanager util client-serversetup worldloader client-statemanager client-environmentmanager client-effect ;

MsvcExternalLibrary client : "wsock32.lib" ;

if $(WSOCK32.LFLAGS) {
    LFlags client : $(WSOCK32.LFLAGS) ;
}

if $(HAVE_STATIC_PLUGINS) = "yes"
{
  SubVariant static ;

  Application client_static : [ Wildcard *.h *.cpp ] [ Wildcard [ ConcatDirs pointer ] : *.h *.cpp ] : independent noinstall ;
  CFlags client_static : [ FDefines CS_STATIC_LINKED ] ;
  MsvcDefine client_static : CS_STATIC_LINKED ;
  LinkWith client_static : client-reporter client-network client-gui client-entitymanager client-eventmanager client-inputmanager client-combatmanager client-data client-trademanager client-chatmanager util client-serversetup worldloader client-statemanager client-environmentmanager client-effect ;
  LinkStaticPlugins client_static :
   csclipboard
  ;

  LinkStaticPlugins client_static :
    addon_questdef
    mgr_quests
    pfactormove
    pfdefcam
    pfinput
    pfengine
    pfmesh
    pfmove
    pfquest
    pftools
    pftrigger
    pfzone
    stdphyslayer
    pfsteer
  :
  : CEL
  ;

  LinkStaticPlugins client_static :
    vfs
    bugplug
    freefnt2
    csfont
    fontplex
    gl3d
    csconin
    csconout
    sndsyssoft
    imgplex
    xmlread
    bindoc
    dsplex
    sndsysloader
    sndsyswav
    sndsysogg
    engine
    csparser
    cssynldr
    sndmanager
    csopcode
    cscegui
    reporter
    stdrep
    shadermgr
    xmlshader
    rendstep_std
    csbmpimg
    csddsimg
    csgifimg
    csjpgimg
    cspngimg
    particlesldr
    particles
    cstgaimg
    gmeshldr
    genmesh
    gmeshanim
    gmeshskelanim2
    skeleton
    skelldr
    vproc_std
    rendloop_loader
    simpleformerldr
    simpleformer
    terrainldr
    bruteblock
    frustvis
    dynavis
    engseq
    sequence
    sprcal3dldr
    sprcal3d
    glshader_fixed
    glshader_arb
    glshader_cg
    thing
    thingldr
    nullmesh
    gmeshanimpdl
  :
    glwin32 glx2d glosx2d xwin xext86vm
    sndmanager sndsyssoft sndsysloader sndsysnull sndsysogg sndsyswav sndsyswin
    sndsyscoreaudio sndsysoss sndsysalsa
  : CRYSTAL
  ;

  ExternalLibs client_static : CRYSTAL CEL CEGUI ;

  MsvcExternalLibrary client_static : "wsock32.lib" ;

  if $(WSOCK32.LFLAGS) {
      LFlags client_static : $(WSOCK32.LFLAGS) ;
  }

  SubVariant ;
}
