SubDir TOP src client ;

SubInclude TOP src client network ;

Description client : "Client" ;
Application client : [ Wildcard *.h *.cpp ] ;
ExternalLibs client : CRYSTAL CEL ;
LinkWith client : client-network entity util ;

MsvcExternalLibrary network : "wsock32.lib" ;

if $(WSOCK32.LFLAGS) {
    LFlags network : $(WSOCK32.LFLAGS) ;
}

if $(HAVE_STATIC_PLUGINS) = "yes"
{
  SubVariant static ;
  
  Application client_static : [ Wildcard *.cpp *.h ] : independent noinstall ;
  CFlags client_static : [ FDefines CS_STATIC_LINKED ] ;
  LFlags client_static : -lcrystalspace_staticplugins  -lcel_staticplugins ;
  LinkWith client_static : client-network entity util ;
  LinkStaticPlugins client_static :
    addon_celentity
    addon_celentitytpl
    addon_questdef
    bltest
    mgr_quests
    pfactormove
    pfdefcam
    pfinput
    pfinv
    pfengine
    pfmesh
    pfmove
    pfquest
    pftest
    pftools
    pftrigger
    pfzone
    stdphyslayer
    xmlpersist
  :
  ;
  LinkStaticPlugins client_static : 
    ball
    ballldr
    bezier
    bezierldr
    bruteblock
    terrainldr
    bugplug
    csconin
    csddsimg
    csfont
    csgifimg
    csjpgimg
    csparser
    cspngimg
    cssynldr
    dynavis
    emit
    emitldr
    engine
    engseq
    explo
    exploldr
    fire
    fireldr
    fontplex
    fountain
    fountldr
    frustvis
    genmesh
    gl3d 
    glshader_arb 
    glshader_fixed
    gmeshanim
    gmeshldr
    gmeshskelanim
    haze
    hazeldr
    ieplex
    imgplex
    nullmesh
    opcode
    protomesh
    protomeshldr
    rain
    rainldr
    rendloop_loader
    rendstep_std
    reporter
    sequence
    shadermgr
    simpcon
    simpleformer
    simpleformerldr
    snow
    snowldr
    spiral
    spirldr
    spr2d
    spr2dldr
    spr3d
    spr3dldr
    sprcal3d 
    sprcal3dldr
    starldr
    stars
    stdpt
    stdrep
    thing
    thingldr
    vfs
    xmlread
    xmlshader
  :
  : CRYSTAL
  ;
  ExternalLibs client_static : CRYSTAL CEL ;
  
  SubVariant ;
}
